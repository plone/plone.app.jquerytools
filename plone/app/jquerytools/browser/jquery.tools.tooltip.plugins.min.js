!function($){function getCropping(el){var w=$(window),right=w.width()+w.scrollLeft(),bottom=w.height()+w.scrollTop();return[el.offset().top<=w.scrollTop(),right<=el.offset().left+el.width(),bottom<=el.offset().top+el.height(),w.scrollLeft()>=el.offset().left]}function isVisible(crop){for(var i=crop.length;i--;)if(crop[i])return!1;return!0}var t=$.tools.tooltip;t.dynamic={conf:{classNames:"top right bottom left"}},$.fn.dynamic=function(conf){"number"==typeof conf&&(conf={speed:conf}),conf=$.extend({},t.dynamic.conf,conf);var orig,ret,confOrigin=$.extend(!0,{},conf),cls=conf.classNames.split(/\s/);return this.each(function(){var api=$(this).tooltip().onBeforeShow(function(e,pos){var tip=this.getTip(),tipConf=this.getConf();orig||(orig=[tipConf.position[0],tipConf.position[1],tipConf.offset[0],tipConf.offset[1],$.extend({},tipConf)]),$.extend(tipConf,orig[4]),tipConf.position=[orig[0],orig[1]],tipConf.offset=[orig[2],orig[3]],tip.css({visibility:"hidden",position:"absolute",top:pos.top,left:pos.left}).show();var conf=$.extend(!0,{},confOrigin),crop=getCropping(tip);isVisible(crop)||(crop[2]&&($.extend(tipConf,conf.top),tipConf.position[0]="top",tip.addClass(cls[0])),crop[3]&&($.extend(tipConf,conf.right),tipConf.position[1]="right",tip.addClass(cls[1])),crop[0]&&($.extend(tipConf,conf.bottom),tipConf.position[0]="bottom",tip.addClass(cls[2])),crop[1]&&($.extend(tipConf,conf.left),tipConf.position[1]="left",tip.addClass(cls[3])),(crop[0]||crop[2])&&(tipConf.offset[0]*=-1),(crop[1]||crop[3])&&(tipConf.offset[1]*=-1)),tip.css({visibility:"visible"}).hide()});api.onBeforeShow(function(){var c=this.getConf();this.getTip();setTimeout(function(){c.position=[orig[0],orig[1]],c.offset=[orig[2],orig[3]]},0)}),api.onHide(function(){var tip=this.getTip();tip.removeClass(conf.classNames)}),ret=api}),conf.api?ret:this}}(jQuery),function($){var t=$.tools.tooltip;$.extend(t.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!/msie/.test(navigator.userAgent.toLowerCase())});var dirs={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};t.addEffect("slide",function(done){var conf=this.getConf(),tip=this.getTip(),params=conf.slideFade?{opacity:conf.opacity}:{},dir=dirs[conf.direction]||dirs.up;params[dir[1]]=dir[0]+"="+conf.slideOffset,conf.slideFade&&tip.css({opacity:0}),tip.show().animate(params,conf.slideInSpeed,done)},function(done){var conf=this.getConf(),offset=conf.slideOffset,params=conf.slideFade?{opacity:0}:{},dir=dirs[conf.direction]||dirs.up,sign=""+dir[0];conf.bounce&&(sign="+"==sign?"-":"+"),params[dir[1]]=sign+"="+offset,this.getTip().animate(params,conf.slideOutSpeed,function(){$(this).hide(),done.call()})})}(jQuery);