/*
 
 jQuery Tools v1.2.7 Rangeinput - HTML5 <input type="range" /> for humans

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/rangeinput/

 Since: Mar 2010
 Date: 2012-04-30 14:24 
*/
(function(e){function F(c,a){a=Math.pow(10,a);return Math.round(c*a)/a}function q(c,a){if(a=parseInt(c.css(a),10))return a;return(c=c[0].currentStyle)&&c.width&&parseInt(c.width,10)}function C(c){return(c=c.data("events"))&&c.onSlide}function G(c,a){function h(b,d,f,j){if(f===undefined)f=d/k*z;else if(j)f-=a.min;if(t)f=Math.round(f/t)*t;if(d===undefined||t)d=f*k/z;if(isNaN(f))return g;d=Math.max(0,Math.min(d,k));f=d/k*z;if(j||!m)f+=a.min;if(m)if(j)d=k-d;else f=a.max-f;f=F(f,r);var s=b.type=="click";
if(D&&n!==undefined&&!s){b.type="onSlide";A.trigger(b,[f,d]);if(b.isDefaultPrevented())return g}j=s?a.speed:0;s=s?function(){b.type="change";A.trigger(b,[f])}:null;if(m){l.animate({top:d},j,s);a.progress&&B.animate({height:k-d+l.height()/2},j)}else{l.animate({left:d},j,s);a.progress&&B.animate({width:d+l.width()/2},j)}n=f;H=d;c.val(f);return g}function o(){if(m=a.vertical||q(i,"height")>q(i,"width")){k=q(i,"height")-q(l,"height");v=i.offset().top+k}else{k=q(i,"width")-q(l,"width");v=i.offset().left}}
function w(){o();g.setValue(a.value!==undefined?a.value:a.min)}var g=this,p=a.css,i=e("<div><div/><a href='#'/></div>").data("rangeinput",g),m,n,v,k,H;c.before(i);var l=i.addClass(p.slider).find("a").addClass(p.handle),B=i.find("div").addClass(p.progress);e.each("min,max,step,value".split(","),function(b,d){b=c.attr(d);if(parseFloat(b))a[d]=parseFloat(b,10)});var z=a.max-a.min,t=a.step=="any"?0:a.step,r=a.precision;if(r===undefined){r=t.toString().split(".");r=r.length===2?r[1].length:0}if(c.attr("type")==
"range"){var u=c.clone().wrap("<div/>").parent().html();u=e(u.replace(/type/i,"type=text data-orig-type"));u.val(a.value);c.replaceWith(u);c=u}c.addClass(p.input);var A=e(g).add(c),D=true;e.extend(g,{getValue:function(){return n},setValue:function(b,d){o();return h(d||e.Event("api"),undefined,b,true)},getConf:function(){return a},getProgress:function(){return B},getHandle:function(){return l},getInput:function(){return c},step:function(b,d){d=d||e.Event();var f=a.step=="any"?1:a.step;g.setValue(n+
f*(b||1),d)},stepUp:function(b){return g.step(b||1)},stepDown:function(b){return g.step(-b||-1)}});e.each("onSlide,change".split(","),function(b,d){e.isFunction(a[d])&&e(g).on(d,a[d]);g[d]=function(f){f&&e(g).on(d,f);return g}});l.drag({drag:false}).on("dragStart",function(){o();D=C(e(g))||C(c)}).on("drag",function(b,d,f){if(c.is(":disabled"))return false;h(b,m?d:f)}).on("dragEnd",function(b){if(!b.isDefaultPrevented()){b.type="change";A.trigger(b,[n])}}).click(function(b){return b.preventDefault()});
i.click(function(b){if(c.is(":disabled")||b.target==l[0])return b.preventDefault();o();var d=m?l.height()/2:l.width()/2;h(b,m?k-v-d+b.pageY:b.pageX-v-d)});a.keyboard&&c.keydown(function(b){if(!c.attr("readonly")){var d=b.keyCode,f=e([75,76,38,33,39]).index(d)!=-1,j=e([74,72,40,34,37]).index(d)!=-1;if((f||j)&&!(b.shiftKey||b.altKey||b.ctrlKey)){if(f)g.step(d==33?10:1,b);else if(j)g.step(d==34?-10:-1,b);return b.preventDefault()}}});c.blur(function(b){var d=e(this).val();d!==n&&g.setValue(d,b)});e.extend(c[0],
{stepUp:g.stepUp,stepDown:g.stepDown});w();k||e(window).load(w)}e.tools=e.tools||{version:"v1.2.7"};var E;E=e.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:undefined,vertical:0,keyboard:true,progress:false,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var x,y;e.fn.drag=function(c){document.ondragstart=function(){return false};c=e.extend({x:true,y:true,drag:true},c);x=x||e(document).on("mousedown mouseup",function(a){var h=e(a.target);
if(a.type=="mousedown"&&h.data("drag")){var o=h.position(),w=a.pageX-o.left,g=a.pageY-o.top,p=true;x.on("mousemove.drag",function(i){var m=i.pageX-w;i=i.pageY-g;var n={};if(c.x)n.left=m;if(c.y)n.top=i;if(p){h.trigger("dragStart");p=false}c.drag&&h.css(n);h.trigger("drag",[i,m]);y=h});a.preventDefault()}else try{y&&y.trigger("dragEnd")}finally{x.off("mousemove.drag");y=null}});return this.data("drag",true)};e.expr[":"].range=function(c){var a=c.getAttribute("type");return a&&a=="range"||!!e(c).filter("input").data("rangeinput")};
e.fn.rangeinput=function(c){if(this.data("rangeinput"))return this;c=e.extend(true,{},E.conf,c);var a;this.each(function(){var h=new G(e(this),e.extend(true,{},c));h=h.getInput().data("rangeinput",h);a=a?a.add(h):h});return a?a:this}})(jQuery);

